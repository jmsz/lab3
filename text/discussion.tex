
Many improvements could be made to the current implementation of the trapezoidal filter and to the system. For each signal the amplitude was extracted by taking the maximum value of the trapezoidal signal. This is not the best approach and may introduce some error. Due to the presence of noise in the flat-top, the extracted amplitudes will likely be biased towards higher values. Additionally, using this method, it is very important to have a good pole-zero correction. If the flat-top of the signal is not flat but sloped, as happens with an incorrect time constant, the correct amplitudes will not be extracted. Depending on the amount of noise in the system, sampling rate, gap time, and pole-zero correction quality it may be desirable to implement a better strategy. Other strategies that could be implemented include: sampling at the midpoint of the filter or averaging a few samples in the flat-top. Additionally, a measure of the flatness of the flat-top could be used as a measure of event quality.

